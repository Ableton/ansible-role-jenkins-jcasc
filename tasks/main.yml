---
- name: Include tasks for sanity checks
  include_tasks: "sanity-check.yml"

- name: Include tasks to stop service
  include_tasks: "stop-service.yml"

- name: Include tasks to configure Jenkins (system) user
  include_tasks: "configure-user.yml"

- name: Include tasks to configure Jenkins directories
  include_tasks: "configure-dirs.yml"

- name: Include tasks to install Java
  include_tasks: "install-java-{{ ansible_pkg_mgr }}.yml"

- name: Include tasks to install Jenkins
  include_tasks: "install-jenkins.yml"

- name: Include tasks to configure Jenkins service
  include_tasks: "configure-service-{{ ansible_service_mgr }}.yml"

- name: Include tasks to stoop service
  include_tasks: "stop-service.yml"

- name: Include tasks to install plugin installation manager CLI tool (PIMT)
  include_tasks: "install-pimt.yml"

- name: Include tasks to install Jenkins plugins
  include_tasks: "install-plugins.yml"

- name: Include tasks to configure custom files
  include_tasks: "configure-files.yml"

- name: Include tasks to configure custom jobs
  include_tasks: "configure-jobs.yml"

- name: Include tasks to start service
  include_tasks: "start-service.yml"

# Configuring tokens is done with jenkins_script, which requires that Jenkins is running
- name: Include tasks to configure Jenkins users
  include_tasks: "configure-jenkins-users.yml"
